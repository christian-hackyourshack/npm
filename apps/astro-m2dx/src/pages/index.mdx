# Astro - M¬≤DX

If you have used [MDX](https://mdxjs.com) before, you might have noticed that MDX files tend to become quite technical.

For us tech nerds, that is mostly fine, and being able to write the content into our technical documents in Markdown is already a big gain. But for non-tech content-editors, writing this style of markdown is quite a burden, and actually I realized, that it is quite a burden for my mind, too.

> I like my content to be clean, so I decided to _dust off my MDX_.

With the arrival of [Astro v1.0](https://astro.build)üöÄ and it's [MDX Integration](https://docs.astro.build/en/guides/integrations-guide/mdx/), there was the chance to implement a publication pipeline that provides content-editors with the ability to write almost clean markdown, with only a few sprinkles of JSX and without overloading the frontmatter: **Astro Magic MDX** was born.

Astro M¬≤DX is a [`remark` plugin](https://remark.js.org/), that you can use in your Astro site generator, to keep your MDX as clean as you like.

<CTA href="https://www.npmjs.com/package/astro-m2dx">
  Dear Astronauts, grab your vacuum cleaner and dust off your MDX, now!
</CTA>

```sh
npm install -D astro-m2dx
```

## The Features

<Wrap>
  <Card href="/options/default-frontmatter">
    **Default frontmatter**

    Reduce the size of your frontmatter, by defining default properties in extra YAML files, that will be injected into all* MDX files.

    You could use it to define a default `layout` property for all files.

  </Card>
  <Card href="/options/export-components">
    **Export `components`**

    Map HTML elements to JSX components: Define a mapping from standard HTML elements to complex JSX components for all* MDX files.

  </Card>
  <Card href="/options/auto-imports">
    **Auto `import`**

    Use JSX components in your MDX without `import`: Define a set of known JSX components, that can be used in all* MDX files without explicitly being imported.

  </Card>
  <Card href="/options/inject-rawmdx">
    **Inject raw MDX**

    Get (read-only) access to the (really) raw MDX content of your file.

  </Card>
  <Card href="/options/inject-mdast">
    **Inject MDAST**

    Get (read-only) access to the **M**ark**D**own **A**bstract **S**yntax **T**ree, e.g. to transform to text or analyze for added meta-info in your layout.

  </Card>
  <Card href="/options/scan-title">
    **Scan title**

    Scan the document content for the title.

  </Card>
  <Card href="/options/scan-abstract">
    **Scan abstract**

    Scan the document content for the abstract.

  </Card>
</Wrap>

(\*) 'All' always means, you can put the definition into a directory and it will be applied to all MDX files in that directory and it's subdirectories, i.e. you can override these values in lower, more specific directories.

## Upcoming Features

The following features are planned:

- **relative imports** - dynamically imports files relative to the referencing file.
- **style directives** - lets users apply CSS classes to the HTML elements resulting from the markdown.
- **add-ons** - lets users define a simple function to add their own enhancements without writing a full plugin.
- **pre-read user frontmatter** - lets developers of add-ons access the frontmatter from the current MDX file.

If you want to start a discussion, [open an issue on github](https://github.com/christian-hackyourshack/npm/issues/new/choose)...

## Source code for this page

Besides the plugin, the sources of this web site are published as a showcase of how to apply the plugin to a file/git-based publication workflow, [find it on Github](https://github.com/christian-hackyourshack/npm/tree/main/apps/astro-m2dx).

BTW: This is the complete MDX source for this page (embedded from the injected raw content, see feature `rawmdx` for details):

> Have a look how clean the markdown is  
> ‚úîÔ∏è No frontmatter  
> ‚úîÔ∏è No imports required  
> ‚úîÔ∏è Only very few components  
> ‚úîÔ∏è Mostly pure markdown

<Code code={frontmatter?.rawmdx ?? 'Raw MDX not found'} lang="mdx" />
